graph TD
    %% Level 1: Strategic Objective
    L1[Strategic Objective:<br/>Complete Offshore Platform Analysis]
    
    %% Level 2: Component Tasks
    L1 --> L2A[Component Task:<br/>Structural Modeling]
    L1 --> L2B[Component Task:<br/>Hydrodynamic Analysis]
    L1 --> L2C[Component Task:<br/>Documentation]
    
    %% Level 3: Atomic Operations for Structural
    L2A --> L3A1[Create parametric model<br/>Agent: FreeCAD<br/>Confidence: 0.95]
    L2A --> L3A2[Generate FE mesh<br/>Agent: GMsh<br/>Confidence: 0.90]
    L2A --> L3A3[Export to analysis format<br/>Agent: CAD Engineering<br/>Confidence: 0.85]
    
    %% Level 3: Atomic Operations for Hydrodynamic
    L2B --> L3B1[Setup wave environment<br/>Agent: OrcaWave<br/>Confidence: 0.92]
    L2B --> L3B2[Run diffraction analysis<br/>Agent: AQWA<br/>Confidence: 0.88]
    L2B --> L3B3[Calculate mooring loads<br/>Agent: OrcaFlex<br/>Confidence: 0.95]
    
    %% Level 3: Atomic Operations for Documentation
    L2C --> L3C1[Generate technical report<br/>Agent: Documentation<br/>Confidence: 0.90]
    L2C --> L3C2[Create visualizations<br/>Agent: CAD Engineering<br/>Confidence: 0.80]
    L2C --> L3C3[Compile test results<br/>Agent: Testing<br/>Confidence: 0.95]
    
    %% Delegation Decisions
    L3A1 -.->|delegates if < 0.7| FALLBACK1[Fallback:<br/>CAD Engineering]
    L3B2 -.->|delegates if < 0.7| FALLBACK2[Fallback:<br/>OrcaFlex]
    L3C2 -.->|delegates if < 0.7| FALLBACK3[Fallback:<br/>Documentation]
    
    %% Parallel Execution Groups
    subgraph "Parallel Group 1"
        L3A1
        L3B1
        L3C1
    end
    
    subgraph "Parallel Group 2"
        L3A2
        L3B2
        L3C2
    end
    
    subgraph "Sequential Group"
        L3A3
        L3B3
        L3C3
    end
    
    %% Styling
    classDef strategic fill:#e3f2fd,stroke:#1565c0,stroke-width:3px
    classDef component fill:#fff8e1,stroke:#f57c00,stroke-width:2px
    classDef atomic fill:#f1f8e9,stroke:#558b2f,stroke-width:2px
    classDef fallback fill:#ffebee,stroke:#c62828,stroke-width:1px,stroke-dasharray: 5 5
    
    class L1 strategic
    class L2A,L2B,L2C component
    class L3A1,L3A2,L3A3,L3B1,L3B2,L3B3,L3C1,L3C2,L3C3 atomic
    class FALLBACK1,FALLBACK2,FALLBACK3 fallback