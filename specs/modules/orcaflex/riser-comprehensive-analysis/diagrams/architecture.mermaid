graph TB
    %% Main System Architecture
    subgraph "OrcaFlex Riser Analysis Module"
        CLI[CLI Interface<br/>Pattern-based Discovery<br/>Batch Processing]
        
        subgraph "Core Components"
            RM[Riser Models<br/>- Drilling Riser<br/>- SCR<br/>- Lazy Wave<br/>- TTR<br/>- Flexible]
            COMP[Components<br/>- Stack-up<br/>- Joints<br/>- Tensioners<br/>- Buoyancy]
            MAT[Materials<br/>- Steel Grades<br/>- Fatigue Curves<br/>- Properties DB]
        end
        
        subgraph "Environmental"
            ENV[Environment<br/>- Metocean<br/>- Vessel RAOs<br/>- Soil Models]
        end
        
        subgraph "Analysis Engines"
            STATIC[Static Analysis<br/>- Configuration<br/>- Tensions<br/>- Stresses]
            DYNAMIC[Dynamic Analysis<br/>- Time Domain<br/>- Statistics<br/>- Response]
            FATIGUE[Fatigue Analysis<br/>- Rainflow<br/>- S-N Curves<br/>- Damage]
            VIV[VIV Analysis<br/>- SHEAR7<br/>- Empirical<br/>- Suppression]
            EXTREME[Extreme Analysis<br/>- Gumbel<br/>- Weibull<br/>- Return Periods]
        end
        
        subgraph "Integration Layer"
            ORCAFX[OrcaFlex API<br/>- Model Builder<br/>- Solver Interface<br/>- Result Extraction]
            UNIVERSAL[Universal Runner<br/>- Parallel Processing<br/>- Progress Tracking<br/>- Batch Management]
        end
        
        subgraph "Output System"
            REPORT[Report Generator<br/>- Executive Summary<br/>- Technical Report<br/>- Compliance Check]
            VIZ[Visualization<br/>- Configuration Plots<br/>- Stress Contours<br/>- Animations]
            EXPORT[Data Export<br/>- CSV<br/>- Excel<br/>- JSON<br/>- HDF5]
        end
    end
    
    %% External Systems
    subgraph "External Interfaces"
        INPUT[(Input Data<br/>- YAML Config<br/>- Excel Stackup<br/>- Metocean Data)]
        LICENSE[OrcaFlex<br/>License Server]
        STANDARDS[(Standards<br/>- API RP 2RD<br/>- DNV-ST-F201<br/>- ISO 13624)]
    end
    
    %% Connections
    INPUT --> CLI
    CLI --> RM
    CLI --> ENV
    
    RM --> COMP
    RM --> MAT
    
    RM --> STATIC
    ENV --> STATIC
    ENV --> DYNAMIC
    
    STATIC --> ORCAFX
    DYNAMIC --> ORCAFX
    
    ORCAFX --> LICENSE
    ORCAFX --> FATIGUE
    ORCAFX --> VIV
    ORCAFX --> EXTREME
    
    FATIGUE --> REPORT
    VIV --> REPORT
    EXTREME --> REPORT
    STATIC --> REPORT
    DYNAMIC --> REPORT
    
    REPORT --> EXPORT
    REPORT --> VIZ
    
    STANDARDS --> REPORT
    
    CLI --> UNIVERSAL
    UNIVERSAL --> ORCAFX
    
    %% Styling
    classDef core fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef analysis fill:#f3e5f5,stroke:#4a148c,stroke-width:2px
    classDef output fill:#e8f5e9,stroke:#1b5e20,stroke-width:2px
    classDef external fill:#fff3e0,stroke:#e65100,stroke-width:2px
    classDef integration fill:#fce4ec,stroke:#880e4f,stroke-width:2px
    
    class RM,COMP,MAT core
    class STATIC,DYNAMIC,FATIGUE,VIV,EXTREME analysis
    class REPORT,VIZ,EXPORT output
    class INPUT,LICENSE,STANDARDS external
    class ORCAFX,UNIVERSAL integration