version: "1.0"
analysis_type: diffraction

bodies:
  - vessel:
      name: "FPSO_Hull"
      type: "FPSO"
      geometry:
        mesh_file: "../../bemrosetta/fixtures/sample_box.gdf"
        mesh_format: gdf
        symmetry: xz
        reference_point: [0.0, 0.0, 0.0]
        waterline_z: 0.0
        length_units: m
      inertia:
        mass: 250000000.0
        centre_of_gravity: [0.0, 0.0, -5.0]
        radii_of_gyration: [20.0, 80.0, 80.0]
    position: [0.0, 0.0, 0.0]
    attitude: [0.0, 0.0, 0.0]

  - vessel:
      name: "Turret"
      type: "turret"
      geometry:
        mesh_file: "../../bemrosetta/fixtures/sample_box.dat"
        mesh_format: dat
        symmetry: none
        reference_point: [100.0, 0.0, 0.0]
        waterline_z: 0.0
        length_units: m
      inertia:
        mass: 5000000.0
        centre_of_gravity: [100.0, 0.0, -3.0]
        radii_of_gyration: [5.0, 5.0, 5.0]
      fixed_dofs: [surge, sway, yaw]
    position: [100.0, 0.0, 0.0]
    attitude: [0.0, 0.0, 0.0]
    connection_parent: "FPSO_Hull"

environment:
  water_depth: infinite
  water_density: 1025.0
  gravity: 9.80665

frequencies:
  input_type: frequency
  range:
    start: 0.1
    end: 2.0
    count: 30
    distribution: logarithmic

wave_headings:
  values: [0.0, 30.0, 60.0, 90.0, 120.0, 150.0, 180.0]
  symmetry: false

solver_options:
  remove_irregular_frequencies: true
  qtf_calculation: false
  load_rao_method: haskind
  precision: double

outputs:
  formats: [csv, orcaflex_yml]
  components: [raos, added_mass, damping, excitation]

metadata:
  project: "test_fpso_turret"
  description: "Multi-body FPSO with turret analysis for testing"
  tags: [test, fpso, turret, multibody]
