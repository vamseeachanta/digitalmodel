# OrcaFlex Post-Processing Summary Configuration
# Standardized according to .agent-os/standards/input-file-architecture.md

meta:
  library: digitalmodel
  basename: orcaflex_post_process
  version: "1.0.0"
  description: "OrcaFlex post-processing summary configuration"

default:
  log_level: INFO
  config:
    overwrite:
      output: True
  units:
    # Forces and moments
    effective_tension: kN
    bend_moment: kNm
    force: kN
    # Stress
    stress: MPa
    von_mises_stress: MPa
    # Length and distance
    length: m
    arc_length: m
    # Time
    time: s
    period: s
    # Environment
    wave_height: m
    wave_period: s
    wave_direction: deg
    current_speed: m/s
    current_direction: deg
    # Angles
    heading: deg
    angle: deg

orcaflex:
  analysis:
    static: False
    simulation: False
    iterate:
      flag: False
    save_sim: False
    save_dat: False

  postprocess:
    visualization:
      flag: False
    summary:
      flag: True
      statistics:
        minimum: True
        maximum: True
        mean: True
        std_dev: True
    range_graph:
      flag: False
    time_series:
      flag: False
    raos:
      flag: False
    cummulative_histograms:
      flag: False
    rain_flow:
      bins: 10
      range:
        - 0
        - 10

summary_settings:
  groups:
    - label: dynamics
      columns:
        - command: GetData
          object_name: Vessel1
          variable:
            - InitialHeading
            - -1
          label: vessel_heading
        - command: GetData
          object_name: Environment
          variable:
            - WaveHeight
            - -1
          label: hmax
        - command: GetData
          object_name: Environment
          variable:
            - WavePeriod
            - -1
          label: wave_period
        - command: GetData
          object_name: Environment
          variable:
            - WaveDirection
            - -1
          label: wave_direction
        - command: GetData
          object_name: Environment
          variable:
            - RefCurrentSpeed
          label: ref_current_speed
        - command: GetData
          object_name: Environment
          variable:
            - CurrentFactor
            - 0
          label: current_factor_0
        - command: GetData
          object_name: Environment
          variable:
            - RefCurrentDirection
          label: ref_current_direction
        - command: "Range Graph"
          object_name: SLWR
          statistic_type: Max
          simulation_period: [0.0, 10.0]
          arc_length:
            - 0
            - 50
          variable: "Effective Tension"
          label: eff_tension
        - command: "Range Graph"
          object_name: SLWR
          statistic_type: Max
          simulation_period: [0.0, 10.0]
          arc_length:
            - 0
            - 50
          variable: "Bend Moment"
          label: bend_moment
        - command: "Range Graph"
          object_name: SLWR
          statistic_type: Max
          simulation_period: [0.0, 10.0]
          arc_length:
            - 0
            - 50
          variable: "API STD 2RD Method 1"
          label: api_m1
        - command: "Range Graph"
          object_name: SLWR
          statistic_type: Max
          simulation_period: [0.0, 10.0]
          arc_length:
            - 0
            - 50
          variable: "Max von Mises Stress"
          label: vm_stress
        - command: TimeHistory
          statistic_type: Max
          object_name: SLWR
          object_extra:
            - "End B"
          simulation_period: [0.0, 10.0]
          variable: "Effective Tension"
          label: time_history_end_b_eff_tension_max

range_graph_settings:
  add_effective_tension_to_cfg: False

time_series_settings:
  histogram: True
  summation: True
  groups: []

file_management:
  flag: True
  input_directory: ./  # Current directory
  output_directory: ./results
  update_unfinished:
    flag: False

  filename:
    extension: [sim]
    pattern: NULL
    filters:
      contains: []
      not_contains: []
