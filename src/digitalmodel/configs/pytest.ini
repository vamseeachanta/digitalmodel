[pytest]
# Test discovery patterns
python_files = test_*.py
python_classes = Test*
python_functions = test_*

# Test directories
testpaths = tests

# Coverage settings
addopts = 
    --cov=src/digitalmodel
    --cov-report=html:htmlcov
    --cov-report=json:coverage.json
    --cov-report=xml:coverage.xml
    --cov-report=term-missing:skip-covered
    --cov-report=lcov:coverage.lcov
    --cov-config=.coveragerc
    --cov-fail-under=0
    -v

# Ignore warnings
filterwarnings = 
    ignore::DeprecationWarning
    ignore::pytest.PytestCollectionWarning

# Markers for test categorization
markers =
    unit: Unit tests
    integration: Integration tests
    slow: Tests that take > 5 seconds
    requires_license: Tests requiring licensed software
    mock: Tests using mock patterns
    aqwa: AQWA module tests
    pipeline: Pipeline module tests
    fatigue: Fatigue analysis tests

# Parallel execution (when using pytest-xdist)
# addopts = -n auto

# Coverage tracking for parallel tests
# addopts = --cov-append

# Output options
console_output_style = progress
tb = short

# Timeout for tests (requires pytest-timeout)
# timeout = 300

# Test result caching
cache_dir = .pytest_cache