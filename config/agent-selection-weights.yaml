# Agent Selection Weights Configuration
# Configures the multi-factor scoring algorithm for intelligent agent selection

# Selection factor weights (must sum to 1.0)
weights:
  # Historical success rate (success_count / total_tasks over last 30 days)
  # High weight because past performance is best predictor of future success
  historical_success: 0.70

  # Current availability (1 - current_load/max_concurrent)
  # Ensures we don't overload agents
  availability: 0.15

  # Cost-benefit ratio (success_rate / execution_time)
  # Balances quality with efficiency
  cost_benefit: 0.10

  # Domain expertise match (keyword overlap with capabilities)
  # Fine-tuning for specialized tasks
  domain_expertise: 0.05

# Agent availability constraints
availability:
  # Maximum concurrent tasks per agent before considered unavailable
  max_concurrent: 5

  # Hard constraint: exclude agents at or above max_concurrent
  exclude_unavailable: true

# Historical performance tracking
history:
  # Number of days to look back for success rate calculation
  lookback_days: 30

  # Default success rate for agents with no history
  default_success_rate: 0.5

  # Minimum tasks required before trusting historical data
  min_tasks_threshold: 5

# Cost model (future: support different costs per agent)
cost:
  # Default cost per task (all agents equal for now)
  default_cost_per_task: 1.0

  # Future: agent-specific costs
  # agent_costs:
  #   claude-opus-4.5: 2.0
  #   claude-sonnet-4.5: 1.0
  #   claude-haiku-4.0: 0.5

# Domain expertise matching
domain:
  # Keyword extraction settings
  max_keywords: 10
  min_keyword_length: 3

  # Stop words to exclude from keyword extraction
  stop_words:
    - a
    - an
    - the
    - and
    - or
    - but
    - in
    - on
    - at
    - to
    - for
    - of
    - with
    - by
    - from
    - is
    - are
    - was
    - were
    - be
    - been

# Scoring normalization
normalization:
  # Maximum expected cost-benefit ratio for normalization
  # (1.0 success rate / 10s execution time = 0.1)
  max_cost_benefit: 0.1

# Selection output format
output:
  # Number of alternative agents to include in results
  max_alternatives: 3

  # Precision for score rounding
  score_precision: 3

# Performance database
database:
  # Path to SQLite database (relative to project root)
  path: ".claude-flow/agent-performance.db"

  # Enable automatic schema initialization
  auto_init: true

  # Retention policy for old records (future feature)
  # retention_days: 90

# Logging and debugging
debug:
  # Enable verbose logging
  verbose: false

  # Log selection reasoning
  log_reasoning: true

  # Log component scores for debugging
  log_component_scores: false
