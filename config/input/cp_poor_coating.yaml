# Cathodic Protection Test Configuration
# Test 1.2: Poor Coating Quality - Sensitivity Analysis
# Purpose: Validate 150% increase in current demand vs "good" coating baseline
# Category: coating_quality_variation
# Reference: DNV RP-F103 Table 5-2

test_metadata:
  test_name: "cp-poor-coating-24in"
  test_purpose: "Poor coating quality sensitivity analysis"
  test_category: "coating_quality_variation"
  base_configuration: "saipem"
  comparison_baseline: "saipem-standard-24in"
  reference_standard: "DNV RP-F103:2010 Table 5-2"

modifications:
  - parameter: "coating_quality"
    old_value: "good"
    new_value: "poor"
    expected_impact: "150% increase in current demand"

  - parameter: "coating_initial_breakdown_pct"
    old_value: 0.005
    new_value: 0.015
    rationale: "Poor coating has higher initial breakdown"

  - parameter: "coating_yearly_breakdown_pct"
    old_value: 0.002
    new_value: 0.006
    rationale: "Poor coating degrades faster"

inputs:
  pipeline:
    # Geometry (same as Saipem baseline)
    outer_diameter_m: 0.610
    wall_thickness_m: 0.025
    length_m: 10000.0

    # Coating parameters (POOR QUALITY)
    coating_quality: "poor"
    coating_initial_breakdown_pct: 0.015  # 1.5% (vs 0.5% good)
    coating_yearly_breakdown_pct: 0.006   # 0.6%/year (vs 0.2% good)
    wet_storage_years: 2.0

    # Electrical
    resistivity_ohm_m: 2.0e-7

  coating:
    # Poor coating resistance
    resistance_ohm_m2: 0.1  # Very low resistance (vs 1.0 for good)

  environment:
    # Same as Saipem baseline
    seawater_resistivity_ohm_cm: 25.0
    seawater_temperature_C: 10.0
    free_corrosion_potential_V: -0.630
    anode_potential_V: -0.950

  design_data:
    design_life: 25.0

  design:
    design_margin: 1.15

  anode:
    material: "aluminium"
    individual_anode_mass_kg: 400.0
    utilization_factor: 0.85
    contingency_factor: 1.10

expected_results:
  # Based on DNV RP-F103 current densities for poor coating
  current_demand_initial_A: "~3125 A (vs ~1250 A good coating)"
  current_demand_mean_A: "~4673 A (vs ~1869 A good coating)"
  current_demand_final_A: "~6220 A (vs ~2488 A good coating)"

  anode_count: "~1905 (vs ~762 good coating)"
  total_mass_kg: "~692,000 kg (vs ~276,883 kg good coating)"
  attenuation_length_m: "~83 m (vs ~131 m good coating)"

  increase_percentages:
    current_demand: "150%"
    anode_count: "150%"
    total_mass: "150%"

validation_criteria:
  - metric: "current_demand_mean_increase"
    operator: ">="
    value: 1.40  # 140% increase minimum

  - metric: "anode_count_increase"
    operator: ">="
    value: 1.40  # 140% increase minimum

  - metric: "cost_increase"
    operator: ">="
    value: 1.40  # 140% cost increase (material)

  - metric: "protection_adequate"
    operator: "=="
    value: true

  - metric: "attenuation_length_decrease"
    operator: ">="
    value: 0.30  # 30% decrease in spacing

comparison_baseline:
  name: "Saipem 24-inch Good Coating"
  mean_current_demand_A: 1869.30
  anode_count: 762
  total_mass_kg: 276883.46
  attenuation_length_m: 131.26
