# ═══════════════════════════════════════════════════════════════════════════════
# EXAMPLE: NORTH SEA CALM BUOY PROJECT
# ═══════════════════════════════════════════════════════════════════════════════
# This is a complete example showing how to configure a CALM buoy project
# Copy and customize for your own project

human_input:

  project:
    name: "North Sea CALM Buoy - Example Project"
    code: "NSE_CALM_001"
    client: "North Sea Energy Partners"
    operator: "Maritime Offshore Services"
    location: "North Sea - UK Sector Block 21/23"
    latitude: 57.5
    longitude: 1.2
    created_date: "2025-01-15"
    engineer: "Dr. Sarah Johnson"
    reviewer: "Prof. Michael Chen"
    version: "1.0"
    description: |
      CALM buoy mooring system for VLCC crude oil offloading in North Sea.
      Design basis: 100-year return period extreme conditions.
      Operational water depth: 120m, soft clay seabed.

  standards:
    primary_code: "ISO 19901-7:2013"
    mooring_standard: "API RP 2SK 2005"
    buoy_standard: "DNVGL-OS-E403 2021"
    classification_society: "ABS"
    national_regulations:
      - "UK HSE Offshore Installation Regulations 1995"
      - "IMCA M103 - Guidelines for Moorings"
    industry_guidelines:
      - "OCIMF SMOG 4th Edition"
      - "OCIMF MEG4"

  site:
    water_depth: 120
    seabed_type: "soft clay"
    seabed_slope: 1.5
    seabed_friction_coefficient: 0.5

    metocean_source: "data/results/calm_buoy/project_specific/environmental_conditions.csv"

    metocean_override:
      operating_conditions:
        hs_max: 2.5
        tp_max: 8.0
        wind_speed_max: 15
        current_speed_surface: 1.2
        current_speed_seabed: 0.3

      extreme_conditions:
        hs_100yr: 8.5
        tp_100yr: 14.0
        wind_speed_100yr: 35
        current_speed_surface_100yr: 2.0

    tidal_range: 4.5
    marine_growth_thickness: 0.05

  buoy:
    type: "turret_calm"
    outer_diameter: 12.0
    draft: 10.0
    freeboard: 3.0
    skirt_diameter: 11.0

    displacement: 9500
    mass_dry: 8500
    mass_operating: 9200
    centre_of_gravity: [0, 0, -2.0]

    inertia_roll: 260000
    inertia_pitch: 6000000
    inertia_yaw: 6000000

    hydrodynamic_database: "data/processed/calm_buoy/mature_design/hydrodynamic_coefficients.csv"
    rao_source: "specs/modules/orcaflex/modular-input-file/output/_04_vessel_types.yml"

    material: "Steel - Grade S355"
    coating: "Epoxy + Marine Grade Paint System"
    design_life: 25

  mooring:
    pattern: "radial_symmetric"
    number_of_lines: 6
    azimuth_spacing: 60

    line_segments:
      - name: "top_chain"
        type: "studless_chain"
        grade: "R4"
        nominal_diameter: 76
        length: 150
        mbl: 7300
        mass_per_meter: 88.3
        ea: 407000

      - name: "bottom_chain"
        type: "studless_chain"
        grade: "R4"
        nominal_diameter: 76
        length: 200
        mbl: 7300
        mass_per_meter: 88.3
        ea: 407000

    fairlead_height: -1.5
    anchor_type: "drag_embedment"
    anchor_holding_capacity: 2500

    safety_factor_intact: 1.8
    safety_factor_damaged: 1.3
    pretension: 500

  offloading:
    tanker_type: "VLCC"
    tanker_dwt: 300000
    tanker_loa: 330
    tanker_beam: 60
    tanker_draft_laden: 22

    hose_type: "floating_hose_string"
    hose_diameter: 16
    hose_length: 120
    hose_segments: 3
    hose_mbl: 150

    hawser_type: "nylon_rope"
    hawser_diameter: 76
    hawser_length: 90
    hawser_mbl: 1800

    transfer_rate: 100000
    product_density: 0.85

  analysis:
    run_preliminary: true
    run_detailed: false
    run_sensitivity: false

    load_cases:
      - name: "operating_head_seas"
        condition: "operating"
        wave_direction: 0
        current_direction: 0
        wind_direction: 0

      - name: "operating_quartering"
        condition: "operating"
        wave_direction: 45
        current_direction: 30
        wind_direction: 15

      - name: "extreme_head_seas"
        condition: "extreme"
        wave_direction: 0
        current_direction: 0
        wind_direction: 0

      - name: "extreme_beam_seas"
        condition: "extreme"
        wave_direction: 90
        current_direction: 60
        wind_direction: 75

    simulation_duration: 3600
    time_step: 0.1
    ramp_time: 100

    output_mooring_tension: true
    output_buoy_motions: true
    output_hose_curvature: true
    output_clearances: true
    output_statistics: true


# AI-generated section (will be populated by generation script)
ai_generated:
  validation:
    validated_by_ai: false
    validation_date: null
    validation_version: "1.0"
    confidence_score: null
    checks:
      geometry_within_ranges: null
      metocean_realistic: null
      mooring_capacity_adequate: null
      safety_factors_met: null
      orcaflex_syntax_valid: null

  derived:
    mooring_footprint_radius: null
    total_mooring_mass: null
    mooring_stiffness_surge: null
    mooring_stiffness_sway: null
    watch_circle_radius: null
    buoy_natural_periods:
      surge: null
      heave: null
      pitch: null
    max_line_tension_operating: null
    max_line_tension_extreme: null
    utilization_ratio_intact: null
    utilization_ratio_damaged: null

  recommendations:
    warnings: []
    suggestions: []

  data_sources:
    hull_geometry_ranges: "data/raw/calm_buoy/generic_range/hull_geometry_ranges.csv"
    metocean_design_ranges: "data/raw/calm_buoy/generic_range/metocean_design_ranges.csv"
    mooring_capacity_ranges: "data/raw/calm_buoy/generic_range/mooring_capacity_ranges.csv"
    hydrodynamic_coefficients: "data/processed/calm_buoy/mature_design/hydrodynamic_coefficients.csv"
    structural_components: "data/processed/calm_buoy/mature_design/structural_components.csv"
    project_environmental_conditions: "data/results/calm_buoy/project_specific/environmental_conditions.csv"
    project_mooring_properties: "data/results/calm_buoy/project_specific/mooring_line_properties.csv"
    project_offloading_config: "data/results/calm_buoy/project_specific/offloading_configuration.csv"


generation:
  orcaflex:
    templates:
      preliminary:
        base: "specs/modules/orcaflex/modular-input-file/output/calm_buoy_base.yml"
        description: "Standard model with lumped buoy representation"
        modules: 16

      detailed:
        base: "specs/modules/orcaflex/modular-input-file/output/discretised_calm_buoy_base.yml"
        description: "Discretised model with detailed buoy geometry"
        modules: 17

    overrides:
      environment:
        template: "jonswap_default"
        customize:
          wave_hs: "human_input.site.metocean_override.operating_conditions.hs_max"
          wave_tp: "human_input.site.metocean_override.operating_conditions.tp_max"
          current_speed: "human_input.site.metocean_override.operating_conditions.current_speed_surface"
          wind_speed: "human_input.site.metocean_override.operating_conditions.wind_speed_max"

      buoy:
        template: "vessel_type_default"
        customize:
          mass: "human_input.buoy.mass_operating"
          draft: "human_input.buoy.draft"
          cog: "human_input.buoy.centre_of_gravity"

      mooring:
        template: "radial_6_lines"
        customize:
          number_of_lines: "human_input.mooring.number_of_lines"
          chain_diameter: "human_input.mooring.line_segments[0].nominal_diameter"
          top_chain_length: "human_input.mooring.line_segments[0].length"
          bottom_chain_length: "human_input.mooring.line_segments[1].length"

  output:
    project_root: "projects/{project_code}"

    structure:
      orcaflex:
        path: "orcaflex"
        files:
          - "{project_code}_calm_buoy.yml"
          - "modules/*.yml"

      freecad:
        path: "freecad"
        files:
          - "buoy_geometry.FCStd"
          - "mooring_layout.FCStd"

      blender:
        path: "blender"
        files:
          - "visualization.blend"
          - "renders/*.png"

      reports:
        path: "reports"
        files:
          - "validation_report.html"
          - "analysis_summary.pdf"

      data:
        path: "data"
        files:
          - "project_metocean.csv"
          - "mooring_properties.csv"

  validation:
    run_after_generation: true
    levels:
      - 1
      - 3

    tolerance_percent: 10.0
    fail_on_critical: true
    warn_on_out_of_range: true


multi_fidelity:
  enabled: false
